# 複数マインドマップの使い方

## 概要
このシステムでは、複数の独立したマインドマップを作成・管理できます。各マインドマップは別々のタブで開くことができ、データも独立して管理されます。

## 使い方

### 1. マインドマップ選択画面から開く（推奨）

1. `select-mindmap.html`を開く
2. 使いたいマインドマップをクリック
3. 新しいタブでマインドマップが開きます

利用可能なマインドマップ：
- **琴平町 地域活性化**：既存のマインドマップ（kotohira-data.json）
- **地域おこし協力隊 個人目標**：DAOマネージャー卒業までの個人目標（personal-goals.json）
- **プロジェクト管理**：プロジェクト管理用のサンプル（project-mindmap.json）
- **アイデア整理**：ブレインストーミング用のサンプル（要作成）

### 2. URLで直接アクセス

URLパラメータを使って直接アクセスできます：

```
index.html                      # 琴平町マインドマップ（デフォルト）
index.html?map=personal-goals   # 地域おこし協力隊 個人目標
index.html?map=project          # プロジェクト管理
index.html?map=ideas            # アイデア整理
```

### 3. 新しいマインドマップを追加する

#### ステップ1：データファイルを作成

`data/`フォルダに新しいJSONファイルを作成：

```json
{
  "centerNode": {
    "id": "root",
    "title": "マインドマップのタイトル",
    "type": "root",
    "description": "説明文"
  },
  "nodes": [
    {
      "id": "node_1",
      "title": "ノードタイトル",
      "type": "major_issue",
      "description": "ノードの説明",
      "children": []
    }
  ]
}
```

#### ステップ2：設定を追加

`js/config.js`に新しい設定を追加：

```javascript
export const MINDMAP_CONFIGS = {
    // ... 既存の設定 ...
    
    // 新しいマインドマップ
    mymap: {
        title: 'マイマインドマップ',
        dataUrl: 'data/mymap-data.json',
        storageKey: 'mymap-autosave'
    }
};
```

#### ステップ3：選択画面に追加（オプション）

`select-mindmap.html`に新しいカードを追加：

```html
<div class="mindmap-card" onclick="openMindmap('mymap')">
    <h2>📊 マイマインドマップ</h2>
    <p>説明文をここに記載</p>
</div>
```

## 特徴

### データの独立性
- 各マインドマップのデータは完全に独立
- 元の琴平町マインドマップ（kotohira-data.json）は変更されない
- 自動保存データも別々のキーで管理

### 同時利用
- 複数のマインドマップを別々のタブで開ける
- タブ間でデータの干渉なし
- それぞれ独立して編集・保存可能

### カスタマイズ
- タイトルは自動的に変更される
- 各マインドマップで独自のノードタイプを定義可能
- テーマカラーなども個別に設定可能（要実装）

## 注意事項

1. **ブラウザのタブ管理**
   - 多数のタブを開くとメモリを消費します
   - 必要に応じてタブを閉じてください

2. **データの保存**
   - 各マインドマップは独立してエクスポート/インポート
   - 自動保存はデフォルトで無効

3. **URLパラメータ**
   - 存在しないmap名を指定すると、デフォルト（琴平町）が表示されます

## トラブルシューティング

### 新しいマインドマップが表示されない
1. データファイルのパスが正しいか確認
2. JSONの構文エラーがないか確認
3. config.jsの設定が正しいか確認

### データが混在する
1. storageKeyが重複していないか確認
2. ブラウザのキャッシュをクリア
3. localStorage内の古いデータを削除