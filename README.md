# 琴平町地域活性化マインドマップ

香川県琴平町の地域活性化課題を視覚化するインタラクティブなマインドマップアプリケーションです。

## 概要

このプロジェクトは、琴平町が直面する「消滅可能性自治体」からの脱却を目指し、地域の課題と解決策を視覚的に整理・共有するためのWebアプリケーションです。

## 主な機能

- 📊 **階層構造の可視化**: 中心テーマから放射状に展開するマインドマップ
- 🖱️ **インタラクティブ操作**: ノードクリックで展開/折りたたみ
- 📝 **詳細情報表示**: 右クリックで詳細情報パネルを表示
- 🔍 **検索機能**: キーワードでノードを検索・ハイライト
- 🏷️ **フィルター機能**: 課題・対策・成功事例でフィルタリング
- 📱 **レスポンシブデザイン**: PC・タブレット・スマートフォン対応
- 🔄 **ズーム・パン機能**: マウス操作で自由に移動・拡大縮小

## データ構造

マインドマップは以下の5つの主要カテゴリで構成されています：

1. **人口減少問題**
   - 20-39歳女性人口50%減少
   - 若者流出
   - UIターン促進

2. **観光リピーター不足**
   - 「一生に一度はこんぴらさん」問題
   - 宿泊促進不足
   - 観光需要の波

3. **情報発信力不足**
   - イベント情報の拡散不足
   - LINEオープンチャット運営課題
   - 観光案内のデジタル化

4. **地域格差**
   - 中心部と周辺部の情報格差
   - 高齢者デジタル参加促進

5. **デジタル活用・新技術導入**
   - DAO活用
   - NFT活用
   - AI活用・業務効率化

## 使い方

### 基本操作

- **ノードクリック**: 子ノードの展開/折りたたみ
- **ノード右クリック**: 詳細情報パネルの表示
- **ドラッグ**: マップの移動
- **マウスホイール**: ズームイン/アウト
- **ノードホバー**: ツールチップ表示

### キーボードショートカット

- `Ctrl/Cmd + F`: 検索フォーカス
- `Escape`: 検索クリア、パネル閉じる
- `Ctrl/Cmd + 0`: ズームリセット

### URL パラメータ

以下のパラメータをURLに追加して、特定の状態で開くことができます：

- `?focus=node_id`: 特定のノードにフォーカス
- `?search=keyword`: 検索キーワードを設定
- `?filter=type`: フィルタータイプを設定（issue, solution, success）

例：`index.html?focus=population_decline&search=女性`

## 技術仕様

### 使用技術

- **HTML5/CSS3**: 構造とスタイリング
- **JavaScript (ES6+)**: アプリケーションロジック
- **D3.js v7**: データビジュアライゼーション
- **ES6 Modules**: モジュール管理

### ブラウザ対応

- Chrome (最新版)
- Firefox (最新版)
- Safari (最新版)
- Edge (最新版)

### ファイル構成

```
kotohira-mindmap/
├── index.html              # メインHTML
├── css/
│   ├── style.css          # メインスタイル
│   ├── responsive.css     # レスポンシブ対応
│   └── components.css     # UIコンポーネント
├── js/
│   ├── main.js           # メインアプリケーション
│   ├── mindmap.js        # マインドマップ描画
│   ├── data.js           # データ管理
│   ├── ui.js             # UI制御
│   └── utils.js          # ユーティリティ関数
├── data/
│   └── kotohira-data.json # 琴平町データ
└── README.md             # このファイル
```

## カスタマイズ

### データの更新

`data/kotohira-data.json`を編集することで、マインドマップのデータを更新できます。

### スタイルの変更

- ノードの色: `css/style.css`の`.node`クラス
- レイアウト: `css/style.css`のレイアウト関連クラス
- レスポンシブ: `css/responsive.css`のメディアクエリ

### 機能の拡張

- 新機能追加: `js/`フォルダ内の各モジュールを拡張
- データ処理: `js/data.js`のDataManagerクラス
- 描画処理: `js/mindmap.js`のMindMapクラス

## 開発環境のセットアップ

1. リポジトリをクローン
2. ローカルWebサーバーを起動（CORS対策のため）
3. ブラウザで`index.html`を開く

### 簡易サーバーの起動例

Python 3を使用する場合：
```bash
python -m http.server 8000
```

Node.jsを使用する場合：
```bash
npx http-server
```

## ライセンス

このプロジェクトは琴平町の地域活性化を支援する目的で作成されています。

## 貢献

バグ報告や機能提案は、GitHubのIssuesまたはPull Requestでお願いします。

## 関連リンク

- [琴平町公式サイト](https://www.town.kotohira.kagawa.jp/)
- [第3期 琴平町 まち・ひと・しごと創生総合戦略](https://www.town.kotohira.kagawa.jp/uploaded/life/10545_22247_misc.pdf)