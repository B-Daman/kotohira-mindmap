# 琴平町マインドマップ - データ編集ガイド

## 概要
このガイドでは、マインドマップのデータ（`data/kotohira-data.json`）を編集してURLや画像を追加する方法を説明します。

## 1. URL追加手順

### 基本的なURL構造
各ノードに最大5つのURLを追加できます。`urls`配列を使用します。

```json
{
  "id": "node_id",
  "title": "ノードタイトル",
  "type": "issue",
  "description": "説明文",
  "urls": [
    {
      "label": "リンクの表示名",
      "url": "https://example.com",
      "description": "リンクの説明（省略可）"
    }
  ]
}
```

### 実例：人口減少問題へのURL追加
```json
{
  "id": "female_population",
  "title": "20-39歳女性人口50%減少",
  "type": "issue",
  "description": "消滅可能性自治体の最重要指標",
  "urls": [
    {
      "label": "第3期 琴平町まち・ひと・しごと創生総合戦略",
      "url": "https://www.town.kotohira.kagawa.jp/uploaded/life/10545_22247_misc.pdf",
      "description": "人口推計データ"
    },
    {
      "label": "朝日新聞「消滅可能性自治体」マップ",
      "url": "https://www.asahi.com/special/population2024/list/",
      "description": "全国データとの比較"
    },
    {
      "label": "総務省統計局 人口推計",
      "url": "https://www.stat.go.jp/data/jinsui/",
      "description": "最新の人口統計データ"
    }
  ]
}
```

## 2. 画像追加手順

### 基本的な画像構造
各ノードに1枚の参考画像を追加できます。`image`オブジェクトを使用します。

```json
{
  "id": "node_id",
  "title": "ノードタイトル",
  "type": "issue",
  "description": "説明文",
  "image": {
    "url": "画像のURL",
    "alt": "画像の代替テキスト",
    "caption": "画像のキャプション（省略可）"
  }
}
```

### 実例：人口推移グラフの追加
```json
{
  "id": "female_population",
  "title": "20-39歳女性人口50%減少",
  "type": "issue",
  "description": "消滅可能性自治体の最重要指標",
  "image": {
    "url": "images/population-graph.png",
    "alt": "琴平町の20-39歳女性人口推移グラフ",
    "caption": "出典：第3期 琴平町まち・ひと・しごと創生総合戦略"
  },
  "urls": [
    {
      "label": "第3期 琴平町まち・ひと・しごと創生総合戦略",
      "url": "https://www.town.kotohira.kagawa.jp/uploaded/life/10545_22247_misc.pdf"
    }
  ]
}
```

## 3. 画像ファイルの配置

### ローカル画像の使用
1. `kotohira-mindmap/images/`フォルダを作成
2. 画像ファイルを配置（推奨形式：PNG、JPG）
3. URLは相対パスで指定：`"url": "images/ファイル名.png"`

### 外部画像の使用
直接URLを指定できます：
```json
"image": {
  "url": "https://example.com/image.png",
  "alt": "説明",
  "caption": "出典：○○"
}
```

## 4. 編集時の注意事項

### JSON形式の確認
- カンマの位置に注意（最後の要素にはカンマ不要）
- 文字列は必ずダブルクォート（"）で囲む
- 日本語はそのまま使用可能

### バックアップの推奨
編集前にファイルのバックアップを取ることを推奨します：
```bash
cp data/kotohira-data.json data/kotohira-data-backup.json
```

### 編集後の確認
1. ブラウザでアプリケーションを開く
2. 該当ノードをクリック
3. 情報パネルで画像とURLが表示されることを確認

## 5. 活用例

### 統計データの可視化
- 人口推移グラフ
- 観光客数の推移
- 経済指標のチャート

### 参考資料の添付
- 政府統計へのリンク
- 新聞記事
- 学術論文

### 成功事例の紹介
- イベントの写真
- 施設の画像
- 成果物のスクリーンショット

## 6. トラブルシューティング

### 画像が表示されない場合
- URLが正しいか確認
- 画像形式が対応しているか確認（PNG、JPG推奨）
- ローカル画像の場合、パスが正しいか確認

### URLがクリックできない場合
- URL形式が正しいか確認（http://またはhttps://で開始）
- JSONの構文エラーがないか確認

### 日本語が文字化けする場合
- ファイルのエンコーディングがUTF-8であることを確認
- エディタの設定を確認